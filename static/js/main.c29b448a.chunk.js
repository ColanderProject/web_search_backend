(this["webpackJsonplanding-page"]=this["webpackJsonplanding-page"]||[]).push([[0],{118:function(e,t,n){},119:function(e,t,n){},133:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n.n(s),i=n(22),c=n.n(i),o=(n(118),n(98)),r=n(99),l=n(26),d=n(113),h=n(110),u=(n(119),n(141)),j=n(103),b=n(47),O=n(138),p=n(139),f=n(143),x=n(144),v=n(140),y=n(145),k=n(142),g=n(6);function m(e){return(e=e.toString())[1]?e:"0"+e}var _=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var s;Object(o.a)(this,n),(s=t.call(this,e)).base_url="/view?u=",s.state={result:[],key_word:"",load_finished:!1,all_count:100,cur_count:3,loading:!1,modal_title:"",modal_content:Object(g.jsx)("p",{children:" "}),isModalVisible:!1,announcements:[],key_word_frozen:""},s.onSearch=s.onSearch.bind(Object(l.a)(s)),s.onKeyWordChange=s.onKeyWordChange.bind(Object(l.a)(s)),s.onLoadMore=s.onLoadMore.bind(Object(l.a)(s)),s.showAbout=s.showAbout.bind(Object(l.a)(s)),s.showCache=s.showCache.bind(Object(l.a)(s)),s.closeModal=s.closeModal.bind(Object(l.a)(s)),s.feedBack=s.feedBack.bind(Object(l.a)(s)),s.showPrivacy=s.showPrivacy.bind(Object(l.a)(s)),s.showModal=s.showModal.bind(Object(l.a)(s)),s.showFeedback=s.showFeedback.bind(Object(l.a)(s)),s.goIndex=s.goIndex.bind(Object(l.a)(s)),s.showAnnouncement=s.showAnnouncement.bind(Object(l.a)(s)),s.setAnnouncement=s.setAnnouncement.bind(Object(l.a)(s));var a=new XMLHttpRequest;a.open("GET","/api/a/"),a.send(null);var i=Object(l.a)(s);return a.onreadystatechange=function(){if(4===a.readyState&&(200===a.status||0===a.status)){var e=JSON.parse(a.responseText);i.setAnnouncement(e)}},s}return Object(r.a)(n,[{key:"setAnnouncement",value:function(e){this.setState({announcements:e})}},{key:"goIndex",value:function(){this.setState({result:[],key_word:"",key_word_frozen:""})}},{key:"closeModal",value:function(){this.setState({isModalVisible:!1})}},{key:"showAbout",value:function(){this.setState({isModalVisible:!0,modal_title:"\u5173\u4e8e",modal_content:Object(g.jsx)("p",{children:"\u672c\u7ad9\u59cb\u4e8e\u4e2a\u4eba\u5174\u8da3\uff0c2019\u5e74\u5f00\u59cb\u5efa\u8bbe\uff0c2021\u5e74\u7ec4\u5efa\u4e86\u5f00\u53d1\u56e2\u961f\u5e76\u53d1\u5e032.0\u7248\u672c"})})}},{key:"showAnnouncement",value:function(e){var t=new XMLHttpRequest;t.open("GET","/api/a/"+e+"/"),t.send(null);var n=this;t.onreadystatechange=function(){if(4===t.readyState&&(200===t.status||0===t.status)){var e=JSON.parse(t.responseText);n.showModal(e[1],e[2])}}}},{key:"showFeedback",value:function(){this.setState({isModalVisible:!0,modal_title:"\u8054\u7cfb",modal_content:Object(g.jsx)("p",{children:"\u6709\u4efb\u4f55\u95ee\u9898\u548c\u5efa\u8bae\u8bf7\u901a\u8fc7\u7535\u5b50\u90ae\u4ef6\u8054\u7cfb\u6211\uff1asxwxs@msn.com"})})}},{key:"showPrivacy",value:function(){this.setState({isModalVisible:!0,modal_title:"\u9690\u79c1\u548c\u4e0d\u5f53\u5185\u5bb9\u4e3e\u62a5",modal_content:Object(g.jsx)("p",{children:"\u672c\u7f51\u7ad9\u5c55\u793a\u7684\u641c\u7d22\u7ed3\u679c\u5185\u5bb9\u5747\u6765\u81ea\u5176\u4ed6\u7f51\u7ad9\uff0c\u5982\u679c\u60a8\u53d1\u73b0\u6709\u4efb\u4f55\u4e0d\u5f53\u5185\u5bb9\uff0c\u8bf7\u70b9\u51fb\u641c\u7d22\u7ed3\u679c\u6761\u76ee\u4e0b\u65b9\u7684\u201d\u4e3e\u62a5\u201c\u94fe\u63a5\u901a\u77e5\u6211\u4eec\uff0c\u6211\u4eec\u67e5\u770b\u540e\u4f1a\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u6574\u6539\uff0c\u8c22\u8c22\uff01"})})}},{key:"parseResult",value:function(e,t){for(var n=[],s=0;s+3<e.length;s+=3){var a=e[s+1].split("\t"),i=e[s+2];n.push([JSON.parse(e[s]),JSON.parse(a[0]),JSON.parse(a[1]),JSON.parse(a[2]),JSON.parse(a[3]),JSON.parse(a[4]),JSON.parse(a[5]),JSON.parse(a[6]),i])}"-1"===e[e.length-1]&&(e[e.length-1]=e[e.length-2]);var c=parseInt(e[e.length-1])>=parseInt(e[e.length-2]);return t||(n=this.state.result.concat([!1],n)),console.log(n),this.setState({cur_count:e[e.length-1],all_count:e[e.length-2],result:n,loading:!1,load_finished:c}),n}},{key:"onSearch",value:function(e){if(e.preventDefault(),this.state.key_word_frozen!==this.state.key_word||!0!==this.state.loading){this.setState({loading:!0,key_word_frozen:this.state.key_word,result:[]});var t=this;console.log(this.state.key_word);var n=new XMLHttpRequest;n.open("GET","/api/s/?q="+this.state.key_word+"&i=0"),n.send(null),n.onreadystatechange=function(){if(4===n.readyState&&(200===n.status||0===n.status)){var e=n.responseText.split("\r");t.parseResult(e,!0)}}}}},{key:"onKeyWordChange",value:function(e){this.setState({key_word:e.target.value})}},{key:"onLoadMore",value:function(){if(!this.state.loading&&!this.state.load_finished){this.setState({loading:!0});var e=new XMLHttpRequest;e.open("GET","/api/s/?q="+this.state.key_word_frozen+"&i="+this.state.cur_count),e.send(null);var t=this;e.onreadystatechange=function(){if(4===e.readyState&&(200===e.status||0===e.status)){var n=e.responseText.split("\r");t.parseResult(n,!1)}}}}},{key:"formatTime",value:function(e,t){var n=["Y","M","D","h","m","s"],s=[],a=new Date(1e3*e);for(var i in s.push(a.getFullYear()),s.push(m(a.getMonth()+1)),s.push(m(a.getDate())),s.push(m(a.getHours())),s.push(m(a.getMinutes())),s.push(m(a.getSeconds())),s)t=t.replace(n[i],s[i]);return t}},{key:"showCache",value:function(e){for(var t=e.split("\n"),n=[],s=0;s<t.length;s++){var a=t[s].split("\t");n.push([a[0],Object(g.jsx)("div",{children:a.slice(1).map((function(e,t){try{return Object(g.jsx)("p",{children:JSON.parse(e)})}catch(n){return Object(g.jsx)("p",{children:"--------------------"})}}))})])}var i=Object(g.jsx)(u.b,{itemLayout:"vertical",bordered:!0,dataSource:n,renderItem:function(e){return e?Object(g.jsxs)(u.b.Item,{children:[Object(g.jsx)(u.b.Item.Meta,{title:e[0],description:""}),Object(g.jsx)("div",{children:e[1]})]}):null}});this.setState({isModalVisible:!0,modal_title:"\u67e5\u770b\u7f13\u5b58",modal_content:i})}},{key:"viewCache",value:function(e){var t=new XMLHttpRequest;t.open("GET","/api/c/?i="+e),t.send(null);var n=this;t.onreadystatechange=function(){if(4===t.readyState&&(200===t.status||0===t.status)){var e=t.responseText;n.showCache(e)}}}},{key:"showModal",value:function(e,t){this.setState({isModalVisible:!0,modal_title:e,modal_content:t})}},{key:"feedBack",value:function(e,t,n,s,a){var i=new XMLHttpRequest;i.open("GET","/api/f/?x="+e+"&i="+t+"&k="+n+"&c="+s+"&t="+a),i.send(null);var c=this;i.onreadystatechange=function(){if(4===i.readyState&&(200===i.status||0===i.status)){var e=i.responseText;c.showModal("\u53cd\u9988\u7ed3\u679c",Object(g.jsx)("p",{children:e}))}}}},{key:"render",value:function(){var e,t,n=this,s=this.state.load_finished?null:Object(g.jsx)(j.a,{}),a=this.state.loading||this.state.load_finished?s:Object(g.jsx)("div",{style:{textAlign:"center",marginTop:12,height:32,lineHeight:"32px"},children:Object(g.jsx)(b.a,{onClick:this.onLoadMore,children:"\u52a0\u8f7d\u66f4\u591a"})});if(0===this.state.key_word_frozen.length)t=Object(g.jsx)("div",{}),e=Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{className:"white-space"}),Object(g.jsxs)(O.a,{children:[Object(g.jsx)(p.a,{span:2,children:" "}),Object(g.jsx)(p.a,{span:20,children:Object(g.jsx)("h1",{style:{color:"#E5811C"},children:"Colander"})}),Object(g.jsx)(p.a,{span:2,children:" "})]})]});else{var i=this.state.cur_count/this.state.all_count*100;t=Object(g.jsxs)("div",{children:[Object(g.jsx)("p",{}),Object(g.jsx)(u.b,{itemLayout:"vertical",header:Object(g.jsxs)("div",{children:["\u641c\u7d22\u7ed3\u679c\u53cd\u9988\uff1a",Object(g.jsx)("a",{onClick:function(){n.feedBack("r",null,n.state.key_word_frozen,"",0)},children:"\u597d\u8bc4"}),Object(g.jsx)("a",{onClick:function(){n.feedBack("r",null,n.state.key_word_frozen,"",1)},children:"\u5dee\u8bc4"})]}),footer:Object(g.jsx)(f.a,{percent:i.toFixed(2)}),loadMore:a,bordered:!0,dataSource:this.state.result,renderItem:function(e){return e?Object(g.jsxs)(u.b.Item,{actions:[Object(g.jsx)("a",{onClick:function(){n.feedBack("i",JSON.stringify(e),n.state.key_word_frozen,"",0)},children:"\u597d"}),Object(g.jsx)("a",{onClick:function(){n.feedBack("i",JSON.stringify(e),n.state.key_word_frozen,"",1)},children:"\u5dee"}),Object(g.jsx)("a",{onClick:function(){n.feedBack("x",JSON.stringify(e),n.state.key_word_frozen,"",1)},children:"\u4e3e\u62a5\u672c\u6761/\u8981\u6c42\u5220\u9664"}),Object(g.jsx)("a",{onClick:function(){n.viewCache(e[0])},children:"\u770b\u7f13\u5b58"})],children:[Object(g.jsx)(u.b.Item.Meta,{title:Object(g.jsx)("a",{style:{color:"blue"},target:"_blank",href:n.base_url+e[2],children:e[1]}),description:e[8]+"(\u7f13\u5b58\u65f6\u95f4\uff1a"+n.formatTime(parseInt(e[7]),"Y/M/D h:m")+")"}),Object(g.jsxs)("div",{children:["\u53d1\u5e16\u65f6\u95f4: ",e[3],"; \u56de\u590d\u6570\u91cf: ",e[5]]})]}):Object(g.jsxs)("div",{children:[Object(g.jsx)("hr",{}),Object(g.jsx)("hr",{})]})}})]}),e=Object(g.jsx)("div",{})}var c=Object(g.jsx)("div",{style:{textAlign:"center"},children:this.state.announcements.map((function(e,t){return Object(g.jsxs)("span",{children:[Object(g.jsx)("a",{onClick:function(){n.showAnnouncement(e[0])},children:e[1]},e[0]),"|-|"]})}))});return Object(g.jsxs)("div",{className:"App",children:[Object(g.jsxs)(x.a,{title:this.state.modal_title,visible:this.state.isModalVisible,onOk:this.closeModal,onCancel:this.closeModal,children:[">",this.state.modal_content]}),Object(g.jsxs)(v.a,{className:"layout",children:[Object(g.jsx)(v.a.Header,{children:Object(g.jsxs)(y.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["1"],children:[Object(g.jsx)(y.a.Item,{onClick:this.goIndex,children:"\u641c\u7d22"},"1"),Object(g.jsx)(y.a.Item,{onClick:this.showPrivacy,children:"\u9690\u79c1\u548c\u4e0d\u5f53\u5185\u5bb9\u4e3e\u62a5"},"2"),Object(g.jsx)(y.a.Item,{onClick:this.showFeedback,children:"\u7559\u8a00/\u8054\u7cfb\u6211\u4eec"},"3"),Object(g.jsx)(y.a.Item,{onClick:this.showAbout,children:"\u5173\u4e8e"},"4")]})}),Object(g.jsx)(v.a.Content,{style:{padding:"0 5px"},children:Object(g.jsxs)("div",{className:"site-layout-content",children:[e,Object(g.jsx)("form",{onSubmit:this.onSearch,children:Object(g.jsxs)(O.a,{children:[Object(g.jsx)(p.a,{span:2,children:" "}),Object(g.jsx)(p.a,{span:16,children:Object(g.jsx)(k.a,{placeholder:"\u5173\u952e\u8bcd\u7528\u7a7a\u683c\u5206\u5f00",onChange:this.onKeyWordChange})}),Object(g.jsx)(p.a,{span:4,children:Object(g.jsx)(b.a,{type:"primary",htmlType:"submit",children:"\u641c\u5317\u90ae\u4eba"})}),Object(g.jsx)(p.a,{span:2,children:" "})]})}),c,t]})}),Object(g.jsx)(v.a.Footer,{style:{textAlign:"center"},children:"Colander Team"})]})]})}}]),n}(a.a.Component),w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,146)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),s(e),a(e),i(e),c(e)}))};c.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(_,{})}),document.getElementById("root")),w()}},[[133,1,2]]]);
//# sourceMappingURL=main.c29b448a.chunk.js.map