{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["formatNumber","n","toString","App","props","base_url","state","result","key_word","load_finished","all_count","cur_count","loading","modal_title","modal_content","isModalVisible","announcements","key_word_frozen","onSearch","bind","onKeyWordChange","onLoadMore","showAbout","showCache","closeModal","feedBack","showPrivacy","showModal","showFeedback","goIndex","showAnnouncement","setAnnouncement","xhr","XMLHttpRequest","open","send","this_x","onreadystatechange","readyState","status","JSON","parse","responseText","this","setState","i","x","is_new","r","length","tt","split","c","push","parseInt","concat","console","log","event","preventDefault","parseResult","target","value","number","format","formateArr","returnArr","date","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","replace","xxx","slice","map","item","index","e","itemLayout","bordered","dataSource","renderItem","Item","Meta","title","description","content","k","t","logo_title","result_list","load_state","loadMore","style","textAlign","marginTop","height","lineHeight","onClick","className","span","color","percent","header","footer","toFixed","actions","stringify","viewCache","href","formatTime","visible","onOk","onCancel","Header","theme","mode","defaultSelectedKeys","Content","padding","onSubmit","placeholder","onChange","type","htmlType","Footer","React","Component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"wWAIA,SAASA,EAAaC,GAElB,OADAA,EAAIA,EAAEC,YACG,GAAKD,EAAI,IAAMA,E,IA8YbE,E,kDAtXX,WAAYC,GAAQ,IAAD,uBACf,cAAMA,IACDC,SAAW,WAChB,EAAKC,MAAQ,CAACC,OAAQ,GAAIC,SAAU,GAAIC,eAAe,EAAOC,UAAW,IAAKC,UAAW,EAAGC,SAAS,EACjGC,YAAa,GAAIC,cAAe,kCAAUC,gBAAgB,EAAOC,cAAe,GAAIC,gBAAiB,IACzG,EAAKC,SAAW,EAAKA,SAASC,KAAd,gBAChB,EAAKC,gBAAkB,EAAKA,gBAAgBD,KAArB,gBACvB,EAAKE,WAAa,EAAKA,WAAWF,KAAhB,gBAClB,EAAKG,UAAY,EAAKA,UAAUH,KAAf,gBACjB,EAAKI,UAAY,EAAKA,UAAUJ,KAAf,gBACjB,EAAKK,WAAa,EAAKA,WAAWL,KAAhB,gBAClB,EAAKM,SAAW,EAAKA,SAASN,KAAd,gBAChB,EAAKO,YAAc,EAAKA,YAAYP,KAAjB,gBACnB,EAAKQ,UAAY,EAAKA,UAAUR,KAAf,gBACjB,EAAKS,aAAe,EAAKA,aAAaT,KAAlB,gBACpB,EAAKU,QAAU,EAAKA,QAAQV,KAAb,gBACf,EAAKW,iBAAmB,EAAKA,iBAAiBX,KAAtB,gBACxB,EAAKY,gBAAkB,EAAKA,gBAAgBZ,KAArB,gBACvB,IAAMa,EAAM,IAAIC,eAChBD,EAAIE,KAAM,MAAO,WACjBF,EAAIG,KAAK,MACT,IAAIC,EAAM,eArBK,OAsBfJ,EAAIK,mBAAqB,WACrB,GAAuB,IAAnBL,EAAIM,aACe,MAAfN,EAAIO,QAAiC,IAAfP,EAAIO,QAAc,CACxC,IAAIhC,EAASiC,KAAKC,MAAMT,EAAIU,cAC5BN,EAAOL,gBAAgBxB,KA1BpB,E,mDAgCnB,SAAgBA,GACZoC,KAAKC,SAAS,CAAC5B,cAAeT,M,qBAGlC,WACIoC,KAAKC,SAAS,CAACrC,OAAQ,GAAIC,SAAU,GAAIS,gBAAiB,O,wBAG9D,WACI0B,KAAKC,SAAS,CAAC7B,gBAAgB,M,uBAGnC,WACI4B,KAAKC,SAAS,CAAC7B,gBAAgB,EAAMF,YAAa,eAAMC,cAAe,wN,8BAG3E,SAAiB+B,GACb,IAAMb,EAAM,IAAIC,eAChBD,EAAIE,KAAM,MAAO,UAAYW,EAAI,KACjCb,EAAIG,KAAK,MACT,IAAIC,EAASO,KACbX,EAAIK,mBAAqB,WACrB,GAAuB,IAAnBL,EAAIM,aACe,MAAfN,EAAIO,QAAiC,IAAfP,EAAIO,QAAc,CACxC,IAAIhC,EAASiC,KAAKC,MAAMT,EAAIU,cAC5BN,EAAOT,UAAUpB,EAAO,GAAIA,EAAO,Q,0BAMnD,WACIoC,KAAKC,SAAS,CAAC7B,gBAAgB,EAAMF,YAAa,eAAMC,cAAe,oK,yBAG3E,WACI6B,KAAKC,SAAS,CAAC7B,gBAAgB,EAAMF,YAAa,yDAAaC,cAAe,ie,yBAGlF,SAAYgC,EAAGC,GAIX,IAFA,IAAIC,EAAI,GAECH,EAAI,EAAGA,EAAI,EAAIC,EAAEG,OAAQJ,GAAG,EAAG,CACpC,IAAIK,EAAKJ,EAAED,EAAE,GAAGM,MAAM,MAClBC,EAAIN,EAAED,EAAE,GAMZG,EAAEK,KAAK,CACHb,KAAKC,MAAMK,EAAED,IACbL,KAAKC,MAAMS,EAAG,IACdV,KAAKC,MAAMS,EAAG,IACdV,KAAKC,MAAMS,EAAG,IACdV,KAAKC,MAAMS,EAAG,IACdV,KAAKC,MAAMS,EAAG,IACdV,KAAKC,MAAMS,EAAG,IACdV,KAAKC,MAAMS,EAAG,IACdE,IAIc,OAAlBN,EAAEA,EAAEG,OAAO,KACXH,EAAEA,EAAEG,OAAO,GAAKH,EAAEA,EAAEG,OAAO,IAE/B,IAAIxC,EAAgB6C,SAASR,EAAEA,EAAEG,OAAO,KAAOK,SAASR,EAAEA,EAAEG,OAAO,IAMnE,OALKF,IACDC,EAAIL,KAAKrC,MAAMC,OAAOgD,OAAO,EAAC,GAAQP,IAE1CQ,QAAQC,IAAIT,GACZL,KAAKC,SAAS,CAACjC,UAAWmC,EAAEA,EAAEG,OAAO,GAAIvC,UAAWoC,EAAEA,EAAEG,OAAO,GAAI1C,OAAQyC,EAAGpC,SAAS,EAAOH,cAAeA,IACtGuC,I,sBAGX,SAASU,GAGL,GADAA,EAAMC,iBACFhB,KAAKrC,MAAMW,kBAAoB0B,KAAKrC,MAAME,WAAmC,IAAvBmC,KAAKrC,MAAMM,QAArE,CAGA+B,KAAKC,SAAS,CAAChC,SAAS,EAAMK,gBAAiB0B,KAAKrC,MAAME,SAAUD,OAAQ,KAC5E,IAAI6B,EAASO,KAEba,QAAQC,IAAId,KAAKrC,MAAME,UACvB,IAAMwB,EAAM,IAAIC,eAChBD,EAAIE,KAAM,MAAO,aAAeS,KAAKrC,MAAME,SAA1B,QACjBwB,EAAIG,KAAK,MACTH,EAAIK,mBAAqB,WACrB,GAAuB,IAAnBL,EAAIM,aACe,MAAfN,EAAIO,QAAiC,IAAfP,EAAIO,QAAc,CACxC,IAAIhC,EAASyB,EAAIU,aAAaS,MAAM,MACpCf,EAAOwB,YAAYrD,GAAQ,Q,6BAY3C,SAAgBmD,GACZf,KAAKC,SAAS,CAACpC,SAAUkD,EAAMG,OAAOC,U,wBAG1C,WACI,IAAInB,KAAKrC,MAAMM,UAAW+B,KAAKrC,MAAMG,cAArC,CAGAkC,KAAKC,SAAS,CAAChC,SAAS,IACxB,IAAMoB,EAAM,IAAIC,eAChBD,EAAIE,KAAM,MAAO,aAAeS,KAAKrC,MAAMW,gBAAkB,MAAQ0B,KAAKrC,MAAMK,WAChFqB,EAAIG,KAAK,MACT,IAAIC,EAASO,KACbX,EAAIK,mBAAqB,WACrB,GAAuB,IAAnBL,EAAIM,aACe,MAAfN,EAAIO,QAAiC,IAAfP,EAAIO,QAAc,CACxC,IAAIhC,EAASyB,EAAIU,aAAaS,MAAM,MACpCf,EAAOwB,YAAYrD,GAAQ,Q,wBAQ3C,SAAWwD,EAAOC,GAEd,IAAIC,EAAc,CAAC,IAAI,IAAI,IAAI,IAAI,IAAI,KACnCC,EAAc,GAEdC,EAAO,IAAIC,KAAc,IAATL,GASpB,IAAK,IAAIlB,KARTqB,EAAUb,KAAKc,EAAKE,eACpBH,EAAUb,KAAKrD,EAAamE,EAAKG,WAAa,IAC9CJ,EAAUb,KAAKrD,EAAamE,EAAKI,YAEjCL,EAAUb,KAAKrD,EAAamE,EAAKK,aACjCN,EAAUb,KAAKrD,EAAamE,EAAKM,eACjCP,EAAUb,KAAKrD,EAAamE,EAAKO,eAEnBR,EAEVF,EAASA,EAAOW,QAAQV,EAAWpB,GAAIqB,EAAUrB,IAErD,OAAOmB,I,uBAGX,SAAUhB,GAGN,IAFA,IAAIzC,EAASyC,EAAEG,MAAM,MACjByB,EAAM,GACD/B,EAAI,EAAGA,EAAItC,EAAO0C,OAAQJ,IAAK,CACpC,IAAIC,EAAIvC,EAAOsC,GAAGM,MAAM,MACxByB,EAAIvB,KAAK,CAACP,EAAE,GAAI,8BAERA,EAAE+B,MAAM,GAAGC,KAAI,SAACC,EAAMC,GAClB,IACI,OAAO,4BAAIxC,KAAKC,MAAMsC,KAE1B,MAAOE,GACH,OAAO,6DAM3B,IAAInE,EAAgB,cAAC,IAAD,CAChBoE,WAAW,WACXC,UAAQ,EACRC,WAAYR,EACZS,WAAY,SAAAN,GAAI,OACZA,EACI,eAAC,IAAKO,KAAN,WACI,cAAC,IAAKA,KAAKC,KAAX,CACIC,MAAOT,EAAK,GACZU,YAAY,KAEhB,8BAAMV,EAAK,QACA,QAI3BpC,KAAKC,SAAS,CAAC7B,gBAAgB,EAAMF,YAAa,2BAAQC,cAAeA,M,uBAG7E,SAAU+B,GAEN,IAAMb,EAAM,IAAIC,eAChBD,EAAIE,KAAM,MAAO,aAAeW,GAChCb,EAAIG,KAAK,MACT,IAAIC,EAASO,KACbX,EAAIK,mBAAqB,WACrB,GAAuB,IAAnBL,EAAIM,aACe,MAAfN,EAAIO,QAAiC,IAAfP,EAAIO,QAAc,CACxC,IAAIhC,EAASyB,EAAIU,aACjBN,EAAOb,UAAUhB,O,uBAQjC,SAAUiF,EAAOE,GACb/C,KAAKC,SAAS,CAAC7B,gBAAgB,EAAMF,YAAa2E,EAAO1E,cAAe4E,M,sBAG5E,SAAS5C,EAAGD,EAAG8C,EAAGvC,EAAGwC,GACjB,IAAM5D,EAAM,IAAIC,eAChBD,EAAIE,KAAM,MAAO,aAAeY,EAAI,MAAQD,EAAI,MAAQ8C,EAAI,MAAQvC,EAAI,MAAQwC,GAChF5D,EAAIG,KAAK,MACT,IAAIC,EAASO,KACbX,EAAIK,mBAAqB,WACrB,GAAuB,IAAnBL,EAAIM,aACe,MAAfN,EAAIO,QAAiC,IAAfP,EAAIO,QAAc,CACxC,IAAIhC,EAASyB,EAAIU,aACjBN,EAAOT,UAAU,2BAAQ,4BAAIpB,S,oBAO7C,WAAU,IACFsF,EACAC,EAFC,OAGCC,EAAapD,KAAKrC,MAAMG,cAAgB,KAAO,cAAC,IAAD,IAC/CuF,EACArD,KAAKrC,MAAMM,SAAW+B,KAAKrC,MAAMG,cAW/BsF,EAVA,qBACIE,MAAO,CACHC,UAAW,SACXC,UAAW,GACXC,OAAQ,GACRC,WAAY,QALpB,SAQI,cAAC,IAAD,CAAQC,QAAS3D,KAAKtB,WAAtB,wCAKZ,GAA0C,IAAtCsB,KAAKrC,MAAMW,gBAAgBgC,OAC3B6C,EAAc,wBACdD,EACA,gCACI,qBAAKU,UAAU,gBAEf,eAAC,IAAD,WACI,cAAC,IAAD,CAAKC,KAAM,EAAX,eACA,cAAC,IAAD,CAAKA,KAAM,GAAX,SACI,oBAAIP,MAAO,CAACQ,MAAO,WAAnB,wBAEJ,cAAC,IAAD,CAAKD,KAAM,EAAX,yBAGL,CACH,IAAIE,EAAU/D,KAAKrC,MAAMK,UAAUgC,KAAKrC,MAAMI,UAAU,IACxDoF,EAAc,gCAC1B,sBACgB,cAAC,IAAD,CACIZ,WAAW,WACfyB,OAAQ,6EACJ,mBAAGL,QAAS,WAAK,EAAK7E,SAAS,IAAK,KAAM,EAAKnB,MAAMW,gBAAiB,GAAI,IAA1E,0BACA,mBAAGqF,QAAS,WAAK,EAAK7E,SAAS,IAAK,KAAM,EAAKnB,MAAMW,gBAAiB,GAAI,IAA1E,6BAEJ2F,OAAQ,cAAC,IAAD,CAAUF,QAASA,EAAQG,QAAQ,KAC3Cb,SAAUA,EACVb,UAAQ,EACRC,WAAYzC,KAAKrC,MAAMC,OACvB8E,WAAY,SAAAN,GAAI,OACZA,EACA,eAAC,IAAKO,KAAN,CAIIwB,QAAS,CACL,mBAAIR,QAAS,WAAK,EAAK7E,SAAS,IAAKe,KAAKuE,UAAUhC,GAAO,EAAKzE,MAAMW,gBAAiB,GAAI,IAA3F,oBACA,mBAAIqF,QAAS,WAAK,EAAK7E,SAAS,IAAKe,KAAKuE,UAAUhC,GAAO,EAAKzE,MAAMW,gBAAiB,GAAI,IAA3F,oBACA,mBAAIqF,QAAS,WAAK,EAAK7E,SAAS,IAAKe,KAAKuE,UAAUhC,GAAO,EAAKzE,MAAMW,gBAAiB,GAAI,IAA3F,+DACA,mBAAGqF,QAAS,WAAK,EAAKU,UAAUjC,EAAK,KAArC,iCARR,UAWQ,cAAC,IAAKO,KAAKC,KAAX,CACIC,MAAO,mBAAGS,MAAO,CAAEQ,MAAO,QAAS5C,OAAO,SAASoD,KAAM,EAAK5G,SAAS0E,EAAK,GAArE,SAA0EA,EAAK,KACtFU,YAAaV,EAAK,GAAG,kCAAS,EAAKmC,WAAW5D,SAASyB,EAAK,IAAK,aAAe,MAEpF,6DAAYA,EAAK,GAAjB,+BAA6BA,EAAK,SAC3B,gCAAK,uBAAK,gCAIjCc,EAAa,wBAEjB,IAAI7E,EAAgB,qBAAKiF,MAAO,CAAEC,UAAW,UAAzB,SAEZvD,KAAKrC,MAAMU,cAAc8D,KAAI,SAACC,EAAMC,GAChC,OAAO,iCAAM,mBAAiBsB,QAAS,WAAK,EAAKxE,iBAAiBiD,EAAK,KAA1D,SAAiEA,EAAK,IAA9DA,EAAK,IAAnB,cAInB,OACI,cADI,CACJ,OAAKwB,UAAU,MAAf,UACI,eAAC,IAAD,CAAOf,MAAO7C,KAAKrC,MAAMO,YAAasG,QAASxE,KAAKrC,MAAMS,eAAgBqG,KAAMzE,KAAKnB,WAAY6F,SAAU1E,KAAKnB,WAAhH,cACKmB,KAAKrC,MAAMQ,iBAGhB,eAAC,IAAD,CAAQyF,UAAW,SAAnB,UACI,cAAC,IAAOe,OAAR,UACI,eAAC,IAAD,CAAMC,MAAM,OAAOC,KAAK,aAAaC,oBAAqB,CAAC,KAA3D,UACI,cAAC,IAAKnC,KAAN,CAAmBgB,QAAS3D,KAAKd,QAAjC,yBAAe,KACf,cAAC,IAAKyD,KAAN,CAAmBgB,QAAS3D,KAAKjB,YAAjC,mEAAe,KACf,cAAC,IAAK4D,KAAN,CAAmBgB,QAAS3D,KAAKf,aAAjC,kDAAe,KACf,cAAC,IAAK0D,KAAN,CAAmBgB,QAAS3D,KAAKrB,UAAjC,yBAAe,UAIvB,cAAC,IAAOoG,QAAR,CAAgBzB,MAAO,CAAE0B,QAAS,SAAlC,SACI,sBAAKpB,UAAU,sBAAf,UACKV,EACD,sBAAM+B,SAAUjF,KAAKzB,SAArB,SACA,eAAC,IAAD,WACI,cAAC,IAAD,CAAKsF,KAAM,EAAX,eACA,cAAC,IAAD,CAAKA,KAAM,GAAX,SAAe,cAAC,IAAD,CAAOqB,YAAY,mDAAWC,SAAUnF,KAAKvB,oBAC5D,cAAC,IAAD,CAAKoF,KAAM,EAAX,SAAc,cAAC,IAAD,CAAQuB,KAAK,UAAUC,SAAS,SAAhC,wCACd,cAAC,IAAD,CAAKxB,KAAM,EAAX,oBAGHxF,EACA8E,OAGT,cAAC,IAAOmC,OAAR,CAAehC,MAAO,CAAEC,UAAW,UAAnC,qC,GAhXFgC,IAAMC,WCjBTC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCDdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1Bb,M","file":"static/js/main.c29b448a.chunk.js","sourcesContent":["import './App.css';\r\nimport React from 'react';\r\nimport {List, Input, Layout, Menu, Row, Col, Button, Progress, Modal, Spin} from 'antd';\r\n\r\nfunction formatNumber(n) {\r\n    n = n.toString()\r\n    return n[1] ? n : '0' + n\r\n}\r\n\r\nfunction formatTime(number,format) {\r\n    var formateArr  = ['Y','M','D','h','m','s'];\r\n    var returnArr   = [];\r\n\r\n    var date = new Date(number * 1000);\r\n    returnArr.push(date.getFullYear());\r\n    returnArr.push(formatNumber(date.getMonth() + 1));\r\n    returnArr.push(formatNumber(date.getDate()));\r\n\r\n    returnArr.push(formatNumber(date.getHours()));\r\n    returnArr.push(formatNumber(date.getMinutes()));\r\n    returnArr.push(formatNumber(date.getSeconds()));\r\n\r\n    for (var i in returnArr)\r\n    {\r\n        format = format.replace(formateArr[i], returnArr[i]);\r\n    }\r\n    return format;\r\n}\r\n\r\nclass App extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.base_url = '/view?u=';\r\n        this.state = {result: [], key_word: \"\", load_finished: false, all_count: 100, cur_count: 3, loading: false,\r\n            modal_title: \"\", modal_content: <p> </p>, isModalVisible: false, announcements: [], key_word_frozen: \"\"};\r\n        this.onSearch = this.onSearch.bind(this);\r\n        this.onKeyWordChange = this.onKeyWordChange.bind(this);\r\n        this.onLoadMore = this.onLoadMore.bind(this);\r\n        this.showAbout = this.showAbout.bind(this);\r\n        this.showCache = this.showCache.bind(this);\r\n        this.closeModal = this.closeModal.bind(this);\r\n        this.feedBack = this.feedBack.bind(this);\r\n        this.showPrivacy = this.showPrivacy.bind(this);\r\n        this.showModal = this.showModal.bind(this);\r\n        this.showFeedback = this.showFeedback.bind(this);\r\n        this.goIndex = this.goIndex.bind(this);\r\n        this.showAnnouncement = this.showAnnouncement.bind(this);\r\n        this.setAnnouncement = this.setAnnouncement.bind(this);\r\n        const xhr = new XMLHttpRequest();\r\n        xhr.open (\"GET\", \"/api/a/\");\r\n        xhr.send(null);\r\n        let this_x = this;\r\n        xhr.onreadystatechange = function () {\r\n            if (xhr.readyState === 4) {\r\n                if (xhr.status === 200 || xhr.status === 0) {\r\n                    let result = JSON.parse(xhr.responseText);\r\n                    this_x.setAnnouncement(result);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    setAnnouncement(result) {\r\n        this.setState({announcements: result})\r\n    }\r\n\r\n    goIndex() {\r\n        this.setState({result: [], key_word: \"\", key_word_frozen: \"\"})\r\n    }\r\n\r\n    closeModal() {\r\n        this.setState({isModalVisible: false})\r\n    }\r\n\r\n    showAbout() {\r\n        this.setState({isModalVisible: true, modal_title: \"关于\", modal_content: <p>本站始于个人兴趣，2019年开始建设，2021年组建了开发团队并发布2.0版本</p>})\r\n    }\r\n\r\n    showAnnouncement(i) {\r\n        const xhr = new XMLHttpRequest();\r\n        xhr.open (\"GET\", \"/api/a/\" + i + \"/\");\r\n        xhr.send(null);\r\n        let this_x = this;\r\n        xhr.onreadystatechange = function () {\r\n            if (xhr.readyState === 4) {\r\n                if (xhr.status === 200 || xhr.status === 0) {\r\n                    let result = JSON.parse(xhr.responseText);\r\n                    this_x.showModal(result[1], result[2]);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    showFeedback() {\r\n        this.setState({isModalVisible: true, modal_title: \"联系\", modal_content: <p>有任何问题和建议请通过电子邮件联系我：sxwxs@msn.com</p>})\r\n    }\r\n\r\n    showPrivacy() {\r\n        this.setState({isModalVisible: true, modal_title: \"隐私和不当内容举报\", modal_content: <p>本网站展示的搜索结果内容均来自其他网站，如果您发现有任何不当内容，请点击搜索结果条目下方的”举报“链接通知我们，我们查看后会根据实际情况整改，谢谢！</p>})\r\n    }\r\n\r\n    parseResult(x, is_new) {\r\n        // let x = raw.split('\\r');\r\n        let r = [];\r\n        // console.log(x);\r\n        for (let i = 0; i + 3 < x.length; i+=3) {\r\n            let tt = x[i+1].split('\\t');\r\n            let c = x[i+2];\r\n            ///if (c.length > 0) {\r\n           //     console.log(c);\r\n            //    c = JSON.parse(c);\r\n            //}\r\n\r\n            r.push([\r\n                JSON.parse(x[i]),  // 0 id\r\n                JSON.parse(tt[0]),   // 1 title\r\n                JSON.parse(tt[1]),   // 2 url\r\n                JSON.parse(tt[2]),   // 3 post date\r\n                JSON.parse(tt[3]),   // 4 author\r\n                JSON.parse(tt[4]),   // 5 reply cnt\r\n                JSON.parse(tt[5]),   // 6 last reply time\r\n                JSON.parse(tt[6]),   // 7 cache time\r\n                c                    // 8 content\r\n            ]);\r\n        }\r\n        // console.log(\"here\")\r\n        if (x[x.length-1] === '-1') {\r\n            x[x.length-1] = x[x.length-2];\r\n        }\r\n        let load_finished = parseInt(x[x.length-1]) >= parseInt(x[x.length-2]);\r\n        if (!is_new) {\r\n            r = this.state.result.concat([false], r);\r\n        }\r\n        console.log(r)\r\n        this.setState({cur_count: x[x.length-1], all_count: x[x.length-2], result: r, loading: false, load_finished: load_finished})\r\n        return r;\r\n    }\r\n\r\n    onSearch(event) {\r\n        // Prevent repeated search requests\r\n        event.preventDefault();\r\n        if (this.state.key_word_frozen === this.state.key_word && this.state.loading === true) {\r\n            return\r\n        }\r\n        this.setState({loading: true, key_word_frozen: this.state.key_word, result: []})\r\n        let this_x = this;\r\n\r\n        console.log(this.state.key_word);\r\n        const xhr = new XMLHttpRequest();\r\n        xhr.open (\"GET\", \"/api/s/?q=\" + this.state.key_word + \"&i=\" + 0);\r\n        xhr.send(null);\r\n        xhr.onreadystatechange = function () {\r\n            if (xhr.readyState === 4) {\r\n                if (xhr.status === 200 || xhr.status === 0) {\r\n                    let result = xhr.responseText.split('\\r');\r\n                    this_x.parseResult(result, true);\r\n                    //this_x.setState({result: this_x.parseResult(result)});\r\n                }\r\n                //render_results();\r\n            }\r\n        }\r\n\r\n        //let dd = '\"23456\\\\n\\\\\"\\\\u827e\\\\u6ecb\\\\u75c5\\\\u77e5\\\\u8bc6\\\\u8fdb\\\\u6821\\\\u56ed\\\\\"\\\\t\\\\\"/article/Recommend/9355\\\\\"\\\\t\\\\\"2006-11-23\\\\\"\\\\t\\\\\"wzying10\\\\\"\\\\t\\\\\"0\\\\\"\\\\t\\\\\"2006-11-23\\\\\"\\\\t\\\\\"1586902124\\\\\"\\\\n\\\\n77975\\\\n\\\\\"\\\\u6316\\\\u4e2a\\\\u5751\\\\uff0c12\\\\u661f\\\\u5ea7\\\\u5bf9\\\\u5e94\\\\u7684\\\\u5317\\\\u4eac\\\\u9ad8\\\\u6821\\\\\"\\\\t\\\\\"/article/Constellations/207256\\\\\"\\\\t\\\\\"2008-06-30\\\\\"\\\\t\\\\\"ahuan1\\\\\"\\\\t\\\\\"0\\\\\"\\\\t\\\\\"2008-06-30\\\\\"\\\\t\\\\\"1587684272\\\\\"\\\\n\\\\\"ahuan1\\\\\"\\\\t\\\\\"\\\\u7a81\\\\u7136\\\\u60f3\\\\u6392\\\\u4e00\\\\u4e0b12\\\\u661f\\\\u5ea7\\\\u5bf9\\\\u5e94\\\\u7684\\\\u5317\\\\u4eac\\\\u9ad8\\\\u6821\\\\\"\\\\t\\\\\"\\\\u65e0\\\\u5948\\\\u9053\\\\u884c\\\\u6709\\\\u9650\\\\uff0c\\\\u53ea\\\\u60f3\\\\u51fa\\\\u4e86\\\\u51e0\\\\u4e2a\\\\uff0c\\\\u53ef\\\\u80fd\\\\u8fd8\\\\u4e0d\\\\u662f\\\\u7279\\\\u522b\\\\u5408\\\\u9002\\\\uff0c\\\\u5e0c\\\\u671b\\\\u7248\\\\u91cc\\\\u7684\\\\u4ed9\\\\u59d1\\\\u3001\\\\u4ed9\\\\u53d4\\\\u4eec\\\\u6279\\\\u5224\\\\u8865\\\\u5145\\\\\"\\\\t\\\\\"\\\\u767d\\\\u7f8a\\\\u2014\\\\u2014\\\\\"\\\\t\\\\\"\\\\u91d1\\\\u725b\\\\u2014\\\\u2014\\\\u5317\\\\u90ae\\\\u00a0\\\\u00a0\\\\u00a0\\\\u00a0\\\\u8fd9\\\\u4e2a\\\\u2026\\\\u2026\\\\u4e3a\\\\u4ec0\\\\u4e48\\\\u2026\\\\u2026\\\\u6740\\\\u4e86\\\\u6211\\\\u5427\\\\\"\\\\t\\\\\"\\\\u53cc\\\\u5b50\\\\u2014\\\\u2014\\\\u5916\\\\u4ea4\\\\u5b66\\\\u9662\\\\u00a0\\\\u00a0\\\\u00a0\\\\u00a0\\\\u53cc\\\\u5b50\\\\u5ea7\\\\u7684\\\\u4eba\\\\u666e\\\\u904d\\\\u53e3\\\\u624d\\\\u4e0d\\\\u9519 \\\\u516b\\\\u9762\\\\u73b2\\\\u73d1\\\\u578b\\\\u7684 \\\\u9002\\\\u5408\\\\u641e\\\\u4ea4\\\\u9645\\\\\"\\\\t\\\\\"\\\\u5de8\\\\u87f9\\\\u2014\\\\u2014\\\\\"\\\\t\\\\\"\\\\u72ee\\\\u5b50\\\\u2014\\\\u2014\\\\u6e05\\\\u534e\\\\u00a0\\\\u00a0\\\\u00a0\\\\u00a0\\\\u60df\\\\u6211\\\\u72ec\\\\u5c0a\\\\u7684\\\\u6c14\\\\u52bf\\\\\"\\\\t\\\\\"\\\\u5904\\\\u5973\\\\u2014\\\\u2014\\\\\"\\\\t\\\\\"\\\\u5929\\\\u5e73\\\\u2014\\\\u2014\\\\u653f\\\\u6cd5\\\\u00a0\\\\u00a0\\\\u00a0\\\\u00a0\\\\u4ecb\\\\u4e2a\\\\u5c31\\\\u4e0d\\\\u7528\\\\u8bf4\\\\u4e86\\\\u5427\\\\\"\\\\t\\\\\"\\\\u5929\\\\u874e\\\\u2014\\\\u2014\\\\u5317\\\\u5927\\\\\"\\\\t\\\\\"\\\\u5c04\\\\u624b\\\\u2014\\\\u2014\\\\u5317\\\\u5f71\\\\u00a0\\\\u00a0\\\\u00a0\\\\u00a0\\\\u8272\\\\u6212\\\\\"\\\\t\\\\\"\\\\u6469\\\\u7faf\\\\u2014\\\\u2014\\\\u534f\\\\u548c\\\\u533b\\\\u79d1\\\\u5927\\\\u00a0\\\\u00a0 \\\\u4f4e\\\\u8c03\\\\u6c89\\\\u7a33\\\\uff0c\\\\u5374\\\\u6f5c\\\\u529b\\\\u65e0\\\\u7a77\\\\\"\\\\t\\\\\"\\\\u6c34\\\\u74f6\\\\u2014\\\\u2014\\\\\"\\\\t\\\\\"\\\\u53cc\\\\u9c7c\\\\u2014\\\\u2014\\\\u4e2d\\\\u592e\\\\u6c11\\\\u5927\\\\\"\\\\t\\\\\"\\\\u5176\\\\u4ed6\\\\u7684\\\\u600e\\\\u4e48\\\\u4e5f\\\\u60f3\\\\u4e0d\\\\u51fa\\\\u6765\\\\u4e86\\\\u2026\\\\u2026\\\\\"\\\\n304119\\\\n\\\\\"\\\\u518d\\\\u53d1\\\\u6700\\\\u540e\\\\u4e00\\\\u5e16=\\\\u3002=\\\\u7b2c\\\\u4e5d\\\\u5c4a\\\\u7f51\\\\u535a\\\\u4f1a\\\\u9996\\\\u90fd\\\\u9ad8\\\\u6821\\\\u539f\\\\u521b\\\\u97f3\\\\u4e50\\\\u5927\\\\u8d5b\\\\u62a5\\\\u540d\\\\\"\\\\t\\\\\"/article/Guitar/113281\\\\\"\\\\t\\\\\"2011-10-12\\\\\"\\\\t\\\\\"skatarist\\\\\"\\\\t\\\\\"13\\\\\"\\\\t\\\\\"2011-10-14\\\\\"\\\\t\\\\\"1587628171\\\\\"\\\\n\\\\n484370\\\\n\\\\\"\\\\u5173\\\\u4e8e\\\\u201c\\\\u6821\\\\u533b\\\\u96624\\\\u670814\\\\u65e5\\\\u4e13\\\\u5bb6\\\\u51fa\\\\u8bca\\\\u201d\\\\u7684\\\\u901a\\\\u77e5\\\\\"\\\\t\\\\\"/article/BYR_Bulletin/4831\\\\\"\\\\t\\\\\"2014-04-08\\\\\"\\\\t\\\\\"ffd\\\\\"\\\\t\\\\\"0\\\\\"\\\\t\\\\\"2014-04-08\\\\\"\\\\t\\\\\"1586894756\\\\\"\\\\n\\\\n128312\\\\n\\\\\"\\\\u5404\\\\u9ad8\\\\u6821\\\\u8fde\\\\u5165CERNET2\\\\uff08ipv6\\\\uff09\\\\u7f51\\\\u7edc\\\\u7684\\\\u60c5\\\\u51b5\\\\\"\\\\t\\\\\"/article/BTbt/34319\\\\\"\\\\t\\\\\"2009-05-05\\\\\"\\\\t\\\\\"filEiNfo\\\\\"\\\\t\\\\\"0\\\\\"\\\\t\\\\\"2009-05-05\\\\\"\\\\t\\\\\"1587386968\\\\\"\\\\n\\\\n664900\\\\n\\\\\"\\\\u60c5\\\\u4eba\\\\u8282\\\\u5feb\\\\u4e50\\\\uff012\\\\u670814\\\\u65e5\\\\u665a\\\\u6e05\\\\u5317\\\\u6d77\\\\u5f52\\\\u540d\\\\u6821\\\\u540d\\\\u4f01\\\\u4e13\\\\u573a\\\\u7ea2\\\\u9152\\\\u6d3e\\\\u5bf9\\\\\"\\\\t\\\\\"/article/Friends/1790766\\\\\"\\\\t\\\\\"2017-02-13\\\\\"\\\\t\\\\\"fatalzheng\\\\\"\\\\t\\\\\"0\\\\\"\\\\t\\\\\"2017-02-13\\\\\"\\\\t\\\\\"1587787320\\\\\"\\\\n\\\\n8137\\\\n1999\"';\r\n        //dd = JSON.parse(dd);\r\n        //this.setState({result: this.parseResult(dd.split('\\n'))});\r\n    }\r\n\r\n    onKeyWordChange(event) {\r\n        this.setState({key_word: event.target.value})\r\n    }\r\n\r\n    onLoadMore() {\r\n        if (this.state.loading || this.state.load_finished) {\r\n            return;\r\n        }\r\n        this.setState({loading: true});\r\n        const xhr = new XMLHttpRequest();\r\n        xhr.open (\"GET\", \"/api/s/?q=\" + this.state.key_word_frozen + \"&i=\" + this.state.cur_count);\r\n        xhr.send(null);\r\n        let this_x = this;\r\n        xhr.onreadystatechange = function () {\r\n            if (xhr.readyState === 4) {\r\n                if (xhr.status === 200 || xhr.status === 0) {\r\n                    let result = xhr.responseText.split('\\r');\r\n                    this_x.parseResult(result, false);\r\n                    //this_x.setState({result: this_x.parseResult(result)});\r\n                }\r\n                //render_results();\r\n            }\r\n        }\r\n    }\r\n\r\n    formatTime(number,format) {\r\n\r\n        var formateArr  = ['Y','M','D','h','m','s'];\r\n        var returnArr   = [];\r\n\r\n        var date = new Date(number * 1000);\r\n        returnArr.push(date.getFullYear());\r\n        returnArr.push(formatNumber(date.getMonth() + 1));\r\n        returnArr.push(formatNumber(date.getDate()));\r\n\r\n        returnArr.push(formatNumber(date.getHours()));\r\n        returnArr.push(formatNumber(date.getMinutes()));\r\n        returnArr.push(formatNumber(date.getSeconds()));\r\n\r\n        for (var i in returnArr)\r\n        {\r\n            format = format.replace(formateArr[i], returnArr[i]);\r\n        }\r\n        return format;\r\n    }\r\n\r\n    showCache(r) {\r\n        let result = r.split('\\n');\r\n        let xxx = []\r\n        for (let i = 0; i < result.length; i++) {\r\n            let x = result[i].split('\\t');\r\n            xxx.push([x[0], <div>\r\n                {\r\n                    x.slice(1).map((item, index) => {\r\n                        try {\r\n                            return <p>{JSON.parse(item)}</p>\r\n                        }\r\n                        catch (e) {\r\n                            return <p>--------------------</p>\r\n                        }\r\n                    })\r\n                }\r\n            </div>])\r\n        }\r\n        let modal_content = <List\r\n            itemLayout=\"vertical\"\r\n            bordered\r\n            dataSource={xxx}\r\n            renderItem={item => (\r\n                item ?\r\n                    <List.Item>\r\n                        <List.Item.Meta\r\n                            title={item[0]}\r\n                            description=\"\"\r\n                        />\r\n                        <div>{item[1]}</div>\r\n                    </List.Item> : null\r\n            )}\r\n        />\r\n\r\n        this.setState({isModalVisible: true, modal_title: \"查看缓存\", modal_content: modal_content})\r\n    }\r\n\r\n    viewCache(i) {\r\n        // console.log(i);\r\n        const xhr = new XMLHttpRequest();\r\n        xhr.open (\"GET\", \"/api/c/?i=\" + i);\r\n        xhr.send(null);\r\n        let this_x = this;\r\n        xhr.onreadystatechange = function () {\r\n            if (xhr.readyState === 4) {\r\n                if (xhr.status === 200 || xhr.status === 0) {\r\n                    let result = xhr.responseText;\r\n                    this_x.showCache(result);\r\n                    //this_x.setState({result: this_x.parseResult(result)});\r\n                }\r\n                //render_results();\r\n            }\r\n        }\r\n    }\r\n\r\n    showModal(title, content) {\r\n        this.setState({isModalVisible: true, modal_title: title, modal_content: content})\r\n    }\r\n\r\n    feedBack(x, i, k, c, t) {\r\n        const xhr = new XMLHttpRequest();\r\n        xhr.open (\"GET\", \"/api/f/?x=\" + x + \"&i=\" + i + \"&k=\" + k + \"&c=\" + c + \"&t=\" + t);\r\n        xhr.send(null);\r\n        let this_x = this;\r\n        xhr.onreadystatechange = function () {\r\n            if (xhr.readyState === 4) {\r\n                if (xhr.status === 200 || xhr.status === 0) {\r\n                    let result = xhr.responseText;\r\n                    this_x.showModal(\"反馈结果\", <p>{result}</p>)\r\n                }\r\n                //render_results();\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let logo_title;\r\n        let result_list;\r\n        const load_state = this.state.load_finished ? null : <Spin />;\r\n        const loadMore =\r\n            (!this.state.loading &&!this.state.load_finished) ? (\r\n                <div\r\n                    style={{\r\n                        textAlign: 'center',\r\n                        marginTop: 12,\r\n                        height: 32,\r\n                        lineHeight: '32px',\r\n                    }}\r\n                >\r\n                    <Button onClick={this.onLoadMore}>加载更多</Button>\r\n                </div>\r\n            ) : load_state;\r\n        // console.log(this.state.result.length)\r\n\r\n        if (this.state.key_word_frozen.length === 0) {\r\n            result_list = <div></div>\r\n            logo_title =\r\n            <div>\r\n                <div className=\"white-space\" >\r\n                </div>\r\n                <Row>\r\n                    <Col span={2}> </Col>\r\n                    <Col span={20}>\r\n                        <h1 style={{color: '#E5811C'}}>Colander</h1>\r\n                    </Col>\r\n                    <Col span={2}> </Col>\r\n                </Row>\r\n            </div>\r\n        } else {\r\n            let percent = this.state.cur_count/this.state.all_count*100;\r\n            result_list = <div>\r\n<p />\r\n                <List\r\n                    itemLayout=\"vertical\"\r\n                header={<div>搜索结果反馈：\r\n                    <a onClick={()=>{this.feedBack(\"r\", null, this.state.key_word_frozen, \"\", 0)}}>好评</a>\r\n                    <a onClick={()=>{this.feedBack(\"r\", null, this.state.key_word_frozen, \"\", 1)}}>差评</a>\r\n                    </div>}\r\n                footer={<Progress percent={percent.toFixed(2)} />}\r\n                loadMore={loadMore}\r\n                bordered\r\n                dataSource={this.state.result}\r\n                renderItem={item => (\r\n                    item ?\r\n                    <List.Item\r\n                        //extra={\r\n                        //    <div></div>\r\n                        //}\r\n                        actions={[\r\n                            <a  onClick={()=>{this.feedBack(\"i\", JSON.stringify(item), this.state.key_word_frozen, \"\", 0)}}>好</a>,\r\n                            <a  onClick={()=>{this.feedBack(\"i\", JSON.stringify(item), this.state.key_word_frozen, \"\", 1)}}>差</a>,\r\n                            <a  onClick={()=>{this.feedBack(\"x\", JSON.stringify(item), this.state.key_word_frozen, \"\", 1)}}>举报本条/要求删除</a>,\r\n                            <a onClick={()=>{this.viewCache(item[0])}}>看缓存</a>\r\n                        ]}\r\n                    >\r\n                            <List.Item.Meta\r\n                                title={<a style={{ color: 'blue'}} target=\"_blank\" href={this.base_url+item[2]}>{item[1]}</a>}\r\n                                description={item[8]+\"(缓存时间：\"+this.formatTime(parseInt(item[7]), \"Y/M/D h:m\") + \")\"}\r\n                            />\r\n                            <div>发帖时间: {item[3]}; 回复数量: {item[5]}</div>\r\n                    </List.Item> : <div><hr/><hr/></div>\r\n                )}\r\n            />\r\n                </div>\r\n            logo_title = <div></div>\r\n        }\r\n        let announcements = <div style={{ textAlign: 'center' }}>\r\n            {\r\n                this.state.announcements.map((item, index) => {\r\n                    return <span><a key={item[0]} onClick={()=>{this.showAnnouncement(item[0])}}>{item[1]}</a>|-|</span>\r\n                })\r\n            }\r\n        </div>;\r\n        return (// onOk={handleOk} onCancel={handleCancel}>\r\n            <div className=\"App\">\r\n                <Modal title={this.state.modal_title} visible={this.state.isModalVisible} onOk={this.closeModal} onCancel={this.closeModal}>>\r\n                    {this.state.modal_content}\r\n                </Modal>\r\n\r\n                <Layout className={\"layout\"}>\r\n                    <Layout.Header>\r\n                        <Menu theme=\"dark\" mode=\"horizontal\" defaultSelectedKeys={['1']}>\r\n                            <Menu.Item key=\"1\" onClick={this.goIndex}>搜索</Menu.Item>\r\n                            <Menu.Item key=\"2\" onClick={this.showPrivacy}>隐私和不当内容举报</Menu.Item>\r\n                            <Menu.Item key=\"3\" onClick={this.showFeedback}>留言/联系我们</Menu.Item>\r\n                            <Menu.Item key=\"4\" onClick={this.showAbout}>关于</Menu.Item>\r\n                        </Menu>\r\n                    </Layout.Header>\r\n\r\n                    <Layout.Content style={{ padding: '0 5px'}}>\r\n                        <div className=\"site-layout-content\">\r\n                            {logo_title}\r\n                            <form onSubmit={this.onSearch}>\r\n                            <Row>\r\n                                <Col span={2}> </Col>\r\n                                <Col span={16}><Input placeholder=\"关键词用空格分开\" onChange={this.onKeyWordChange} /></Col>\r\n                                <Col span={4}><Button type=\"primary\" htmlType=\"submit\">搜北邮人</Button></Col>\r\n                                <Col span={2}> </Col>\r\n                            </Row>\r\n                            </form>\r\n                            {announcements}\r\n                            {result_list}\r\n                        </div>\r\n                    </Layout.Content>\r\n                    <Layout.Footer style={{ textAlign: 'center' }}>Colander Team</Layout.Footer>\r\n                </Layout>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}